(this["webpackJsonppirate-game"]=this["webpackJsonppirate-game"]||[]).push([[0],{12:function(e,t,n){e.exports={backdrop:"Modal_backdrop__29fHH",modal:"Modal_modal__3tsUe","slide-down":"Modal_slide-down__eX0Tx"}},15:function(e,t,n){e.exports={"pirate-sprite":"Pirate_pirate-sprite__27RI-","animation-1":"Pirate_animation-1__2EJ-H",animation1:"Pirate_animation1__18nEw","animation-2":"Pirate_animation-2__cMHIB",animation2:"Pirate_animation2__2lFQ7","animation-3":"Pirate_animation-3__2E3JB",animation3:"Pirate_animation3__Hv9yJ","animation-4":"Pirate_animation-4__1bRH4",animation4:"Pirate_animation4__2lbxp","animation-5":"Pirate_animation-5__3hvHm",animation5:"Pirate_animation5__1M-rb"}},16:function(e,t,n){e.exports={button:"RollButton_button__ySEqg",bump:"RollButton_bump__y_xoi"}},28:function(e,t,n){e.exports={outliner:"Outliner_outliner__2dY9O"}},36:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(9),i=n.n(a),o=(n(36),n(2)),r=n.n(o),l=n.p+"static/media/Pirate.35372aaa.png",c=n(15),s=n.n(c),d=n(0),b=r.a.createContext({rolledNumber:3,pirateLocation:1,isDiceRolling:!1,isScrollingEnabled:!1,isModalVisible:!1,isRollingEnabled:!0,ModalContent:Object(d.jsx)("p",{children:"Hello Modal"}),rollDice:function(){},toggleModalVisibility:function(){}}),u=function(e){var t=Object(o.useContext)(b).pirateLocation,n=s.a["pirate-sprite"];return t>1&&(n+=" "+s.a["animation-".concat(t-1)]),Object(d.jsx)("img",{src:l,alt:"pirate",className:n})},j=n(12),O=n.n(j),p=function(e){return Object(d.jsx)("div",{className:O.a.backdrop,onClick:e.onClose})},g=function(e){return Object(d.jsx)("div",{className:O.a.modal,children:Object(d.jsx)("div",{className:O.a.content,children:e.children})})},h=document.getElementById("overlays"),m=function(e){return Object(d.jsxs)(r.a.Fragment,{children:[i.a.createPortal(Object(d.jsx)(p,{onClose:e.onClick}),h),i.a.createPortal(Object(d.jsx)(g,{children:e.children}),h)]})},_=n.p+"static/media/Map.2951357d.png",f=n(27),x=function(){var e=Object(o.useRef)(null),t=Object(o.useContext)(b),n=t.isScrollingEnabled,a=t.isModalVisible,i=t.ModalContent,r=t.toggleModalVisibility;return document.body.onresize=function(){window.innerHeight>window.innerWidth&&t.toggleModalVisibility()},Object(o.useEffect)((function(){e.current&&e.current.scrollTo(0,0)}),[]),Object(d.jsxs)(o.Fragment,{children:[a&&Object(d.jsx)(m,{onClick:r,children:i}),Object(d.jsx)(f.a,{innerRef:e,vertical:n,horizontal:n,style:{height:"100vh"},children:Object(d.jsxs)("div",{style:{height:"100%"},children:[Object(d.jsx)("img",{src:_,alt:"map"}),Object(d.jsx)(u,{})]})})]})},E=n(11),y=n(28),I=n.n(y),v=n(8),T=function(){var e=Object(o.useContext)(b),t=e.isScrollingEnabled,n=e.toggleScrolling,a=Object(d.jsxs)("span",{className:"fa-layers fa-fw fa-5x",onClick:n,style:{cursor:"pointer"},children:[Object(d.jsx)(v.a,{icon:["fas","circle"],color:t?"lightgreen":"white"}),Object(d.jsx)(v.a,{icon:["far","hand-paper"],transform:"shrink-7"})]});return Object(d.jsxs)("div",{style:{marginBottom:"20vh"},children:[a," ",Object(d.jsx)("br",{}),Object(d.jsx)("span",{style:{fontSize:"x-large",userSelect:"none"},children:"Browse map"})]})},P=n(16),L=n.n(P),M=function(e){var t="".concat(L.a.button," ").concat(e.buttonIsHightlighted?L.a.bump:"");return Object(d.jsx)("button",{className:t,onClick:e.onClick,disabled:e.isDisabled,children:Object(d.jsx)("span",{children:e.text})})},G=function(e){var t="dice-"+e.number,n="fa-layers fa-fw fa-10x "+(e.isSpinning?"fa-spin":"");return Object(d.jsx)("div",{style:{fontSize:"1.5vw"},children:Object(d.jsxs)("span",{className:n,children:[Object(d.jsx)(v.a,{icon:["fas","square"],color:"black",transform:"shrink-7",fixedWidth:!0}),Object(d.jsx)(v.a,{icon:["fas",t],color:"rgb(214, 205, 205)",fixedWidth:!0})]})})},C=function(){var e=Object(o.useContext)(b),t=Object(o.useState)(!1),n=Object(E.a)(t,2),a=n[0],i=n[1],r=e.isDiceRolling,l=r?"Rolling...":"Roll Dice",c=["one","two","three","four","five","six"][e.rolledNumber-1],s=e.isRollingEnabled;return Object(d.jsxs)("div",{className:I.a.outliner,children:[Object(d.jsx)(T,{}),Object(d.jsx)(M,{onClick:function(){i(!0),e.rollDice(),setTimeout((function(){i(!1)}),300)},text:l,buttonIsHightlighted:a,isDisabled:!s}),Object(d.jsx)(G,{number:c,isSpinning:r})]})},S=n(3),w=n(17),R=n.n(w),k=n(29),N=n(30),D="/api/",A=n.n(N).a.create({withCredentials:!0}),V=function(e,t){return B(e,"GET",t)},Y=function(e,t){return B(e,"POST",t)};function B(e){return H.apply(this,arguments)}function H(){return H=Object(k.a)(R.a.mark((function e(t){var n,a,i,o=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,A({url:"".concat(D).concat(t),method:n,data:a,params:"GET"===n?a:null});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),H.apply(this,arguments)}var J=n(4),z=n.n(J),W={rolledNumber:3,pirateLocation:1,isDiceRolling:!1,isScrollingEnabled:!1,isModalVisible:!1,isRollingEnabled:!0,ModalContent:Object(d.jsx)("p",{children:"Hello Modal"})},F=[];V("joke").then((function(e){e.forEach((function(e){F.push(e.content)})),console.log(F)}));var U=function(e,t){return"TOGGLE_MODAL_VISIBILITY"===t.type?window.innerHeight>window.innerWidth?Object(S.a)(Object(S.a)({},e),{},{isModalVisible:!0,ModalContent:Object(d.jsx)("p",{children:"This app in not supported in portrait mode. Please switch your device's display mode to landscape."})}):Object(S.a)(Object(S.a)({},e),{},{isModalVisible:!e.isModalVisible}):"SET_MODAL_CONTENT"===t.type?Object(S.a)(Object(S.a)({},e),{},{ModalContent:t.element}):"TOGGLE_SCROLLING"===t.type?Object(S.a)(Object(S.a)({},e),{},{isScrollingEnabled:!e.isScrollingEnabled}):"TOGGLE_ROLLING_ENABLED"===t.type?Object(S.a)(Object(S.a)({},e),{},{isRollingEnabled:!e.isRollingEnabled}):"TOGGLE_DICE_STATE"===t.type?Object(S.a)(Object(S.a)({},e),{},{isDiceRolling:!e.isDiceRolling}):"SET_DICE_VALUE"===t.type?Object(S.a)(Object(S.a)({},e),{},{rolledNumber:t.value}):"SET_PIRATE_LOCATION"===t.type?Object(S.a)(Object(S.a)({},e),{},{pirateLocation:t.value}):(t.type,W)},q=function(e){var t=Object(o.useReducer)(U,W),n=Object(E.a)(t,2),a=n[0],i=n[1],r={rolledNumber:a.rolledNumber,pirateLocation:a.pirateLocation,isDiceRolling:a.isDiceRolling,isScrollingEnabled:a.isScrollingEnabled,isRollingEnabled:a.isRollingEnabled,isModalVisible:a.isModalVisible,ModalContent:a.ModalContent,rollDice:function(){var e;i({type:"TOGGLE_DICE_STATE"}),i({type:"TOGGLE_ROLLING_ENABLED"});var t=setInterval((function(){e=Math.floor(6*Math.random()+1),i({type:"SET_DICE_VALUE",value:e})}),50);setTimeout((function(){var n;switch(clearInterval(t),i({type:"TOGGLE_DICE_STATE"}),i({type:"SET_PIRATE_LOCATION",value:e}),Y("log",{IP:z.a.address(),action:"Player rolled ".concat(e)}),e){case 1:n=Object(d.jsx)("p",{children:"You didn't get off the island. Game Over :("}),Y("log",{IP:z.a.address(),action:"Player didn't get off the island"}),Y("log",{IP:z.a.address(),action:"Game Over"});break;case 2:Math.floor(2*Math.random())?(n=Object(d.jsx)("p",{children:"You found a barrel of rum. It tastes great. You feel like a true pirate! You win! :)"}),Y("log",{IP:z.a.address(),action:"Player got good rum"}),Y("log",{IP:z.a.address(),action:"Player won"})):(n=Object(d.jsx)("p",{children:"You found a barrel of rum. It tastes sour. You feel sick! Game Over :("}),Y("log",{IP:z.a.address(),action:"Player got spoiled rum"}),Y("log",{IP:z.a.address(),action:"Game Over"}));break;case 3:n=Object(d.jsx)("p",{children:"You got eaten by the Kraken. Game Over :("}),Y("log",{IP:z.a.address(),action:"Player got eaten by kraken"}),Y("log",{IP:z.a.address(),action:"Game Over"});break;case 4:n=Object(d.jsx)("p",{children:"You found the buried treasure! You win! :)"}),Y("log",{IP:z.a.address(),action:"Player got the treasure"}),Y("log",{IP:z.a.address(),action:"Player won"});break;case 5:var a=F[Math.floor(Math.random()*(F.length+1))];n=Object(d.jsxs)("p",{children:["You found a message in a bottle. It says:",Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{})," ",Object(d.jsx)("span",{children:a})]}),Y("log",{IP:z.a.address(),action:"Player got joke:".concat(a)});break;case 6:n=Object(d.jsx)("p",{children:"You crossed the archipelago and managed to get rescued. You win! :)"}),Y("log",{IP:z.a.address(),action:"Player got to the end"}),Y("log",{IP:z.a.address(),action:"Player won"})}i({type:"SET_MODAL_CONTENT",element:n}),setTimeout((function(){i({type:"TOGGLE_MODAL_VISIBILITY"}),i({type:"TOGGLE_ROLLING_ENABLED"})}),1e3*(e-1))}),1e3)},toggleScrolling:function(){i({type:"TOGGLE_SCROLLING"})},resetGame:function(){i({type:"RESET_GAME"})},toggleModalVisibility:function(){i({type:"TOGGLE_MODAL_VISIBILITY"})}};return Object(d.jsx)(b.Provider,{value:r,children:e.children})},K=n(7),Q=n(6),X=n(31);K.b.add(Q.a,X.a,Q.d,Q.g,Q.f,Q.c,Q.b,Q.e,Q.h);var Z=function(){return Object(d.jsxs)(q,{children:[Object(d.jsx)(x,{}),Object(d.jsx)(C,{})]})};i.a.render(Object(d.jsx)(Z,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.93480965.chunk.js.map